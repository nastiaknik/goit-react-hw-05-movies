"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[771],{2570:function(n,e,t){t.d(e,{Z:function(){return Z}});var r,i,o,a,c,s=t(7689),u=t(168),p=t(6444),l=t(1087),d=p.ZP.div(r||(r=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px gray solid;\n  width: 300px;\n  height: 525px;\n  text-align: center;\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px,\n    rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;\n"]))),f=(0,p.ZP)(l.OL)(i||(i=(0,u.Z)(["\n  text-decoration: none;\n"]))),h=p.ZP.img(o||(o=(0,u.Z)(["\n  background-color: #ebebeb;\n"]))),x=p.ZP.p(a||(a=(0,u.Z)(["\n  font-size: 20px;\n  font-weight: 700;\n  text-decoration: none;\n  padding: 0 5px;\n  color: black;\n"]))),m=t(9303),v=t(184),g=function(n){var e=n.id,t=n.poster,r=n.title,i=(0,s.TH)();return(0,v.jsx)(f,{to:"/movies/".concat(e),state:{from:i},children:(0,v.jsxs)(d,{children:[(0,v.jsx)(h,{src:t?"https://image.tmdb.org/t/p/original".concat(t):m,alt:r,width:"300",height:"450",loading:"lazy"}),(0,v.jsx)(x,{children:r.length<=45?r:r.slice(1,45)+"..."})]})})},b=p.ZP.ul(c||(c=(0,u.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  list-style: none;\n"])));function Z(n){var e=n.movies;return(0,v.jsx)(b,{children:e&&e.map((function(n){var e=n.id,t=n.poster_path,r=n.title;return(0,v.jsx)("li",{children:(0,v.jsx)(g,{id:e,poster:t,title:r})},e)}))})}},8771:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r,i,o,a,c=t(9439),s=t(2791),u=t(1087),p=t(9085),l=t(168),d=t(6444),f=t(7425),h=d.ZP.form(r||(r=(0,l.Z)(["\n  position: relative;\n  overflow: hidden;\n  max-width: 300px;\n  margin: 0 auto;\n"]))),x=d.ZP.input(i||(i=(0,l.Z)(["\n  display: inline-block;\n  width: 100%;\n  min-width: 270px;\n  min-height: 35px;\n  padding-left: 10px;\n  padding-right: 10px;\n  font: inherit;\n  font-size: 20px;\n  border: 1px gray solid;\n  outline: none;\n  cursor: pointer;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n\n  :hover,\n  :focus {\n    border: 1px solid orangered;\n  }\n"]))),m=d.ZP.button(o||(o=(0,l.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  min-width: 39px;\n  min-height: 39px;\n  padding: 0;\n  margin: 0;\n  border: 1px solid gray;\n  background-color: white;\n  outline: none;\n  cursor: pointer;\n  transition: border 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    border: 1px solid orangered;\n  }\n"]))),v=(0,d.ZP)(f.Qcu)(a||(a=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  padding: 8px;\n  font-size: 20px;\n\n  :hover {\n    color: orangered;\n  }\n"]))),g=t(184),b=function(n){var e,t=n.onSubmit,r=(0,u.lr)(),i=null!==(e=(0,c.Z)(r,1)[0].get("search"))&&void 0!==e?e:"";return(0,g.jsxs)(h,{onSubmit:t,children:[(0,g.jsx)("label",{children:(0,g.jsx)(x,{type:"text",autoFocus:!0,placeholder:"Search movie",name:"search",defaultValue:i})}),(0,g.jsx)(m,{type:"submit",children:(0,g.jsx)(v,{})})]})},Z=t(2570),y=t(4431),w=t(4050),j=function(){var n=(0,s.useState)(null),e=(0,c.Z)(n,2),t=e[0],r=e[1],i=(0,u.lr)(),o=(0,c.Z)(i,2),a=o[0],l=o[1],d=(0,s.useState)(!1),f=(0,c.Z)(d,2),h=f[0],x=f[1],m=a.get("search");(0,s.useEffect)((function(){x((function(n){return!n})),""===(null===m||void 0===m?void 0:m.trim())&&p.Am.warning("Please type something!"),(0,w.qF)(m).then((function(n){if(r(n.results),m&&n.total_results<=0)return p.Am.error((0,g.jsxs)("p",{children:["There are no movies for"," ",(0,g.jsx)("span",{style:{color:"#e74c3c"},children:m}),"!"]}),{toastId:"can-not-be-duplicated"});m&&n.total_results>0&&p.Am.success((0,g.jsxs)("p",{children:["We found"," ",(0,g.jsxs)("span",{style:{color:"#2E8B57",fontWeight:600},children:[n.total_results," "]}),1===n.total_results?"movie":"movies"," for"," ",(0,g.jsx)("span",{style:{color:"#2E8B57",fontWeight:600},children:m}),"!"]}),{toastId:"cannot-be-duplicated"})})).catch((function(n){return console.log(n)})).finally((function(){return x((function(n){return!n}))}))}),[m]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{onSubmit:function(n){n.preventDefault(),l({search:n.currentTarget.elements.search.value})}}),(0,g.jsxs)("div",{"aria-busy":h,children:[h&&(0,g.jsx)(y.Z,{page:"/my-list"}),m&&(0,g.jsx)(Z.Z,{movies:t})]})]})}},4050:function(n,e,t){t.d(e,{Df:function(){return u},IQ:function(){return d},Jh:function(){return f},TP:function(){return l},qF:function(){return p}});var r=t(5861),i=t(7757),o=t.n(i),a=t(1243),c="53262c5d6ff8109487cc66546be6258b",s="https://api.themoviedb.org/3",u=function(){var n=(0,r.Z)(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/trending/movie/day"),{params:{api_key:c}});case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/search/movie"),{params:{api_key:c,query:e}});case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/movie/").concat(e),{params:{api_key:c}});case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/movie/").concat(e,"/credits"),{params:{api_key:c}});case 2:return t=n.sent,r=t.data,n.abrupt("return",r.cast);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/movie/").concat(e,"/reviews"),{params:{api_key:c}});case 2:return t=n.sent,r=t.data,n.abrupt("return",r.results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},9303:function(n,e,t){n.exports=t.p+"static/media/default-movie.cf92e45ee113ca8af31a.jpg"}}]);
//# sourceMappingURL=771.6a7cf0dd.chunk.js.map