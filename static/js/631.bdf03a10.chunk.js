"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[631],{6631:function(n,e,r){r.r(e),r.d(e,{default:function(){return N}});var t,i,o,a,c,s,u,l,d=r(3433),f=r(9439),p=r(2791),h=r(1087),x=r(7689),v=r(4050),g=r(4431),m=r(9085),b=r(9983),j=r(8820),y=r(168),Z=r(6444),k=r(4373),w=Z.ZP.div(t||(t=(0,y.Z)(["\n  display: flex;\n  height: 450px;\n  padding: 16px;\n  border-bottom: 1px gray solid;\n"]))),_=Z.ZP.div(i||(i=(0,y.Z)(["\n  text-align: start;\n  padding: 0 15px;\n"]))),P=(0,Z.ZP)(h.OL)(o||(o=(0,y.Z)(["\n  text-align: start;\n  text-decoration: none;\n  color: black;\n\n  &.active {\n    color: orangered;\n  }\n"]))),S=(0,Z.ZP)(k.UkU)(a||(a=(0,y.Z)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: left;\n  margin-left: 15px;\n  padding: 5px;\n  font-size: 20px;\n\n  :hover {\n    color: orangered;\n  }\n"]))),z=Z.ZP.div(c||(c=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  margin-top: 15px;\n"]))),M=Z.ZP.button(s||(s=(0,y.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 115px;\n  height: 45px;\n  padding: 13px;\n  color: black;\n  text-transform: uppercase;\n  font-style: normal;\n  line-height: 1.33;\n  border: 1px solid black;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    transform 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n"]))),C=(0,Z.ZP)(M)(u||(u=(0,y.Z)(["\n  background-color: rgba(255, 255, 255, 1);\n\n  &:hover {\n    color: rgba(255, 255, 255, 1);\n    background-color: #ff6b08;\n  }\n"]))),A=(0,Z.ZP)(M)(l||(l=(0,y.Z)(["\n  border-color: #ff6b08;\n  color: rgba(255, 255, 255, 1);\n  background-color: #ff6b08;\n\n  &:hover {\n    border-color: black;\n  }\n"]))),F=r(5531),L=r(184),N=function(){var n,e,r=(0,x.UO)().id,t=(0,p.useState)(null),i=(0,f.Z)(t,2),o=i[0],a=i[1],c=(0,p.useState)(!1),s=(0,f.Z)(c,2),u=s[0],l=s[1],y=(0,p.useState)((function(){var n;return null!==(n=JSON.parse(localStorage.getItem("favourites")))&&void 0!==n?n:[]})),Z=(0,f.Z)(y,2),k=Z[0],M=Z[1];(0,p.useEffect)((function(){l(!0),(0,v.TP)(r).then(a).catch((function(n){return console.log(n)})).finally((function(){return l(!1)}))}),[r]),(0,p.useEffect)((function(){localStorage.setItem("favourites",JSON.stringify(k))}),[k]);var N=(0,x.TH)(),O=(0,p.useRef)(null!==(n=null===(e=N.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/"),U=function(n){if(k.some((function(e){return e.id===n.id})))return M((function(e){return e.filter((function(e){return e.id!==n.id}))})),void m.Am.success((0,L.jsxs)("p",{children:["Movie ",(0,L.jsx)("span",{style:{color:"green"},children:n.title})," removed from My List!"]}));M((function(e){return[].concat((0,d.Z)(e.filter((function(e){return e.id!==n.id}))),[n])})),m.Am.success((0,L.jsxs)("p",{children:["Movie ",(0,L.jsx)("span",{style:{color:"green"},children:n.title})," added to My List!"]}))};return(0,L.jsxs)(L.Fragment,{children:[u&&(0,L.jsx)(g.Z,{page:"/movies/".concat(r)}),o&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.rU,{to:O.current,children:(0,L.jsx)(S,{})}),(0,L.jsxs)(w,{children:[(0,L.jsx)("img",{src:o.poster_path?"https://image.tmdb.org/t/p/original".concat(o.poster_path):F,alt:o.title,width:"300",height:"450",loading:"lazy",style:{backgroundColor:"#ebebeb"}}),(0,L.jsxs)(_,{children:[(0,L.jsxs)("h2",{children:[o.title," ",(0,L.jsxs)("span",{style:{fontWeight:400},children:["(",o.release_date?o.release_date.slice(0,4):"No date",")"]})]}),(0,L.jsxs)("h3",{children:["User Score:"," ",(0,L.jsx)("span",{style:{fontWeight:400},children:o.vote_average?10*o.vote_average.toFixed(1)+"%":"This movie does not have user score."}),o.vote_average?(0,L.jsx)(z,{children:[1,2,3,4,5,6,7,8,9,10].map((function(n,e){return(0,L.jsx)(b.Pd.Provider,{value:{size:40,color:"".concat(e>=Math.floor(o.vote_average.toFixed(0))?"#ccc":"orange")},children:(0,L.jsx)(j.pHD,{})},e)}))}):null]}),(0,L.jsx)("h3",{children:"Overview: "}),(0,L.jsx)("p",{children:o.overview?o.overview:"No movie description"}),(0,L.jsxs)("h3",{children:["Genres:"," ",(0,L.jsx)("span",{style:{fontWeight:400},children:o.genres.length?o.genres.map((function(n){return[n.name]})).join(", "):"No genre"})]}),k.some((function(n){return o.id===n.id}))?(0,L.jsx)(A,{onClick:function(){return U(o)},children:"Remove from My List"}):(0,L.jsx)(C,{onClick:function(){return U(o)},children:"Add to My List"})]})]}),(0,L.jsx)("h2",{children:"Additional information"}),(0,L.jsxs)("ul",{style:{display:"flex",gap:"10px",textAlign:"start",listStyle:"none"},children:[(0,L.jsx)("li",{children:(0,L.jsx)(P,{to:"cast",children:"Cast"})}),(0,L.jsx)("li",{children:(0,L.jsx)(P,{to:"reviews",children:"Reviews"})})]}),(0,L.jsx)(p.Suspense,{fallback:(0,L.jsx)(g.Z,{page:N.pathname}),children:(0,L.jsx)(x.j3,{})})]})]})}},4050:function(n,e,r){r.d(e,{Df:function(){return d},IQ:function(){return h},Jh:function(){return x},TP:function(){return p},qF:function(){return f}});var t=r(5861),i=r(7757),o=r.n(i),a=r(1243),c="53262c5d6ff8109487cc66546be6258b",s="https://api.themoviedb.org/3",u=[],l=[],d=function(){var n=(0,t.Z)(o().mark((function n(){var e,r,t,i,l=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:1,u=[],n.next=4,(0,a.Z)("".concat(s,"/trending/movie/day"),{params:{api_key:c,page:e}});case 4:return r=n.sent,t=r.data,i=t.results.filter((function(n){return!u.some((function(e){return e.id===n.id}))&&(u.push(n),!0)})),t.results=i,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(o().mark((function n(e,r){var t,i,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return 1===r&&(l=[]),n.next=3,(0,a.Z)("".concat(s,"/search/movie"),{params:{api_key:c,query:e,page:r}});case 3:return t=n.sent,i=t.data,u=i.results.filter((function(n){return!l.some((function(e){return e.id===n.id}))&&(l.push(n),!0)})),i.results=u,n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(o().mark((function n(e){var r,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/movie/").concat(e),{params:{api_key:c}});case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)(o().mark((function n(e){var r,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/movie/").concat(e,"/credits"),{params:{api_key:c}});case 2:return r=n.sent,t=r.data,n.abrupt("return",t.cast);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=(0,t.Z)(o().mark((function n(e){var r,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Z)("".concat(s,"/movie/").concat(e,"/reviews"),{params:{api_key:c}});case 2:return r=n.sent,t=r.data,n.abrupt("return",t.results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},5531:function(n,e,r){n.exports=r.p+"static/media/default-movie.cf92e45ee113ca8af31a.jpg"}}]);
//# sourceMappingURL=631.bdf03a10.chunk.js.map